# (C) Copyright 2024, SECO Mind Srl
#
# SPDX-License-Identifier: Apache-2.0

config ASTARTE_DEVICE_SDK
	bool "Astarte device SDK"
	select JSON_LIBRARY
	select HTTP_CLIENT
	select NET_SOCKETS
	select DNS_RESOLVER
	select NETWORKING
	select MBEDTLS
	help
	  This option enables the Astarte device SDK library

config ASTARTE_DEVICE_SDK_PAIRING_JWT
	string "JWT to be used when registering a new device"
	depends on ASTARTE_DEVICE_SDK
	help
	  This option should be set to a valid value when using the pairing API to register a new
	  device.

config ASTARTE_DEVICE_SDK_HOSTNAME
	string "Hostname for the Astarte APIs"
	depends on ASTARTE_DEVICE_SDK
	help
	  This hostname will be solved using a DNS to the IP address of the Astarte instance.

config ASTARTE_DEVICE_SDK_CA_CERT_TAG
	int "CA root certificate TLS security tag"
	depends on ASTARTE_DEVICE_SDK
	depends on !ASTARTE_DEVICE_SDK_DEVELOP_DISABLE_TLS
	help
	  The CA certificate should be added by the user with the tls_credential_add function.
	  This configuration option should be set to the tag used when adding the CA certificate.

config ASTARTE_DEVICE_SDK_GENERATE_DEVICE_ID
	bool "Dynamic generation of the device ID"
	depends on ASTARTE_DEVICE_SDK
	default false
	help
	  This option enables the dynamic generation of device IDs using hardware information or
	  starting from a provided namespace.

config ASTARTE_DEVICE_SDK_DEVICE_ID
	string "Device ID"
	depends on ASTARTE_DEVICE_SDK
	depends on !ASTARTE_DEVICE_SDK_GENERATE_DEVICE_ID
	help
	  Device ID to be used for registration on Astarte.

config ASTARTE_DEVICE_SDK_REALM_NAME
	string "Realm name"
	depends on ASTARTE_DEVICE_SDK
	help
	  Astarte realm name where to connect the device.

menu "Development options"

config ASTARTE_DEVICE_SDK_DEVELOP_DISABLE_TLS
	bool "Disable TLS for all sockets"
	depends on ASTARTE_DEVICE_SDK
	default false
	help
	  This option will disable TLS for all created sockets.
	  It will make it possible to connect to a local Astarte instance accepting
	  only unsafe connections.

	  Should be used only for development purposes as it's highly unsafe.

endmenu

menu "Logging options"

module = ASTARTE_DEVICE_SDK_PAIRING
module-str = Log level for Astarte device SDK pairing utilities
module-help = Sets log level for Astarte device SDK pairing utilities.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_CRYPTO
module-str = Log level for Astarte device SDK certificate generation suite
module-help = Sets log level for Astarte device SDK certificate generation suite.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_HTTP
module-str = Log level for Astarte device SDK connectivity utilities
module-help = Sets log level for Astarte device SDK connectivity utilities.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_DEVICE
module-str = Log level for Astarte device SDK device
module-help = Sets log level for Astarte device SDK device.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_UUID
module-str = Log level for Astarte device SDK UUID generation utilities
module-help = Sets log level for Astarte device SDK UUID generation utilities.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_BSON
module-str = Log level for Astarte device SDK BSON generation utilities
module-help = Sets log level for Astarte device SDK BSON generation utilities.
source "subsys/logging/Kconfig.template.log_config"

module = ASTARTE_DEVICE_SDK_INTROSPECTION
module-str = Log level for Astarte device SDK introspection
module-help = Sets log level for Astarte device SDK introspection.
source "subsys/logging/Kconfig.template.log_config"

endmenu
